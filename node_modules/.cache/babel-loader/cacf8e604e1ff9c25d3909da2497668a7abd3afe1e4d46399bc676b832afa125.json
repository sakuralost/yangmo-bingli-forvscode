{"ast":null,"code":"var _jsxFileName = \"F:\\\\Users\\\\\\u8FF7\\u5931\\u5C0F\\u7237\\\\\\u6587\\u6863\\\\Aicoder\\\\vscode\\\\bingli\\\\medical-record-assistant\\\\src\\\\components\\\\RecordList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecordList = ({\n  records\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // 处理搜索逻辑，支持拼音首字母、文本和数字搜索\n  const filteredRecords = useMemo(() => {\n    if (!searchTerm) return records;\n    const searchLower = searchTerm.toLowerCase();\n    return records.filter(record => {\n      var _record$symptom, _record$contact;\n      // 搜索病例名称\n      const caseNameMatch = record.caseName.toLowerCase().includes(searchLower);\n\n      // 搜索病症名称\n      const symptomMatch = (_record$symptom = record.symptom) === null || _record$symptom === void 0 ? void 0 : _record$symptom.toLowerCase().includes(searchLower);\n\n      // 搜索联系方式（数字搜索）\n      const contactMatch = (_record$contact = record.contact) === null || _record$contact === void 0 ? void 0 : _record$contact.includes(searchTerm);\n\n      // 搜索诊断记录\n      const diagnosisMatch = record.diagnosisRecords.some(diagnosis => diagnosis.content.toLowerCase().includes(searchLower));\n      return caseNameMatch || symptomMatch || contactMatch || diagnosisMatch;\n    });\n  }, [records, searchTerm]);\n\n  // 格式化日期时间\n  const formatDateTime = dateStr => {\n    return new Date(dateStr).toLocaleString('zh-CN');\n  };\n\n  // 处理点击病例记录事件\n  const handleRecordClick = recordId => {\n    navigate(`/record/${recordId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"record-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-box\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        placeholder: \"\\u8F93\\u5165\\u5173\\u952E\\u8BCD\\u641C\\u7D22\\u75C5\\u4F8B\\uFF08\\u652F\\u6301\\u75C5\\u4F8B\\u540D\\u79F0\\u3001\\u75C5\\u75C7\\u540D\\u79F0\\u3001\\u8054\\u7CFB\\u65B9\\u5F0F\\u548C\\u8BCA\\u65AD\\u8BB0\\u5F55\\uFF09\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"records-table\",\n      children: filteredRecords.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u75C5\\u4F8B\\u540D\\u79F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u75C5\\u75C7\\u540D\\u79F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u8054\\u7CFB\\u65B9\\u5F0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u6027\\u522B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5E74\\u9F84\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u6700\\u540E\\u8BCA\\u65AD\\u65F6\\u95F4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filteredRecords.map(record => /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => handleRecordClick(record._id),\n            className: \"record-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: record.caseName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: record.symptom || '无'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: record.contact || '无'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: record.gender || '未指定'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: record.age || '未指定'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: formatDateTime(record.lastDiagnosisTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 37\n            }, this)]\n          }, record._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-records\",\n        children: searchTerm ? '无符合搜索条件的病例' : '暂无病例记录'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(RecordList, \"AAaRKo6N3TKSMMKyFlulw5VbOzc=\", false, function () {\n  return [useNavigate];\n});\n_c = RecordList;\nexport default RecordList;\nvar _c;\n$RefreshReg$(_c, \"RecordList\");","map":{"version":3,"names":["React","useState","useMemo","useNavigate","jsxDEV","_jsxDEV","RecordList","records","_s","navigate","searchTerm","setSearchTerm","filteredRecords","searchLower","toLowerCase","filter","record","_record$symptom","_record$contact","caseNameMatch","caseName","includes","symptomMatch","symptom","contactMatch","contact","diagnosisMatch","diagnosisRecords","some","diagnosis","content","formatDateTime","dateStr","Date","toLocaleString","handleRecordClick","recordId","className","children","type","value","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onClick","_id","gender","age","lastDiagnosisTime","_c","$RefreshReg$"],"sources":["F:/Users/迷失小爷/文档/Aicoder/vscode/bingli/medical-record-assistant/src/components/RecordList.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { Record } from '../types';\nimport { useNavigate } from 'react-router-dom';\n\ninterface RecordListProps {\n    records: Record[];\n}\n\nconst RecordList: React.FC<RecordListProps> = ({ records }) => {\n    const navigate = useNavigate();\n    const [searchTerm, setSearchTerm] = useState('');\n\n    // 处理搜索逻辑，支持拼音首字母、文本和数字搜索\n    const filteredRecords = useMemo(() => {\n        if (!searchTerm) return records;\n        \n        const searchLower = searchTerm.toLowerCase();\n        \n        return records.filter(record => {\n            // 搜索病例名称\n            const caseNameMatch = record.caseName.toLowerCase().includes(searchLower);\n            \n            // 搜索病症名称\n            const symptomMatch = record.symptom?.toLowerCase().includes(searchLower);\n            \n            // 搜索联系方式（数字搜索）\n            const contactMatch = record.contact?.includes(searchTerm);\n            \n            // 搜索诊断记录\n            const diagnosisMatch = record.diagnosisRecords.some(diagnosis => \n                diagnosis.content.toLowerCase().includes(searchLower)\n            );\n            \n            return caseNameMatch || symptomMatch || contactMatch || diagnosisMatch;\n        });\n    }, [records, searchTerm]);\n\n    // 格式化日期时间\n    const formatDateTime = (dateStr: string) => {\n        return new Date(dateStr).toLocaleString('zh-CN');\n    };\n\n    // 处理点击病例记录事件\n    const handleRecordClick = (recordId: string) => {\n        navigate(`/record/${recordId}`);\n    };\n\n    return (\n        <div className=\"record-list-container\">\n            {/* 搜索框 */}\n            <div className=\"search-box\">\n                <input\n                    type=\"text\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    placeholder=\"输入关键词搜索病例（支持病例名称、病症名称、联系方式和诊断记录）\"\n                />\n            </div>\n\n            {/* 病例列表 */}\n            <div className=\"records-table\">\n                {filteredRecords.length > 0 ? (\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>病例名称</th>\n                                <th>病症名称</th>\n                                <th>联系方式</th>\n                                <th>性别</th>\n                                <th>年龄</th>\n                                <th>最后诊断时间</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {filteredRecords.map(record => (\n                                <tr\n                                    key={record._id}\n                                    onClick={() => handleRecordClick(record._id)}\n                                    className=\"record-row\"\n                                >\n                                    <td>{record.caseName}</td>\n                                    <td>{record.symptom || '无'}</td>\n                                    <td>{record.contact || '无'}</td>\n                                    <td>{record.gender || '未指定'}</td>\n                                    <td>{record.age || '未指定'}</td>\n                                    <td>{formatDateTime(record.lastDiagnosisTime)}</td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                ) : (\n                    <div className=\"no-records\">\n                        {searchTerm ? '无符合搜索条件的病例' : '暂无病例记录'}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default RecordList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}